<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strenght of Ties Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

    <script src="./professors.js"> //here I have loded the data on professors
        //this look is one of the W3Schools templates, links and stylesheets are above

    </script>
</head>

<body>

    <!-- Header -->

    <header class="w3-container w3-theme w3-padding" id="myHeader">
        <div class="w3-center">
            <h1 class="w3-xxxlarge w3-animate-bottom">STRENGHT OF TIES WITH CIS PROFESSORS</h1>
            <h4>enter the number of classes you took with a professor bellow to calculate strenght of ties with them
            </h4>
            <form action="./invoice.html" method="GET" name="quantity_form">
                <div class="w3-padding-32">
                    <input type="submit" value="CALCULATE" class="w3-btn w3-xlarge w3-theme-dark w3-hover-teal"
                        style="font-weight:900;">

                </div>
        </div>
    </header>
    <div>
        <main>
            <div class="w3-row-padding w3-center w3-margin-top">
                <script>
                    //this is the loop that prints out the data for each of the professors
                    for (i = 0; i <= professors.length; i++) {
                        document.write(`  
            <div class="w3-third">
<div class="w3-card w3-container" style="min-height:460px">

                    <br>
                    <img  width="150" height="150" src=${professors[i].image}> 
                    <h3>${professors[i].name}</h3>
                    <p> ${professors[i].affiliation}</p>
                    <p> <b>Department:</b> <br> ${professors[i].department}</p>
                    <p> <b>Research topics:</b> ${professors[i].research_area}</p>
                    <hr>    
                    <lable> Enter the number of classes you took with this professor: <lable> <br>
                    <input type= "text" size="2" placeholder="0" name= ${"quantity_textbox" + i} onkeyup="checkQuantityTextbox(this)"> 
                    <span id="qty_textbox_message"></span>
                    </p>
                    <br>               
                </section>
            </div> 
</div>


                `);
                    };

                </script>

            </div>
        </main>


        </main>

        </form>


</body>

</html>
<script>
    
        //checks if it's a non neg intiger
        function isNonNegInt(q, returnErrors = false) {
            var errors = []; // assume no errors at first
            if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
            if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
            if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer

            return returnErrors ? errors : (errors.length == 0);
        }

        //here is a function that will test the input in the texbox and give an alert if it is non neg int, this is how I solve the input check.
        function checkQuantityTextbox(qtyTexboxObj) {
            if (!isNonNegInt(qtyTexboxObj.value, returnErrors = false)) 
            alert("One of the entered values for number of classes is invalid, please revise!");
            
        }
    
</script>