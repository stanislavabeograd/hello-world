<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration page</title>
    <link rel="stylesheet" href="../css/registration.css">

<script>
let name_re = /(^[a-z A-Z-]*$){1,20}/; //aplhabet characters 1 - 10
let username_re = /([a-z0-9]){4,10}/; //aplhanumeric characters 4-10
let password_re = /.{6,}/; //any string, minimum 6 char long
let email_re = /([a-zA-Z0-9_.+-])+@([a-zA-Z0-9-])+\.([a-zA-Z0-9]){2,3}/; // simple version testing email, modified from https://stackoverflow.com/questions/201323/how-to-validate-an-email-address-using-a-regular-expression

//kako da napravim da izbaciuje alert error 
function errorMessage(){
if (username_re.test(req.body["uname"]) == false) {//testing username agains regex
            alert(`Entered value for USERNAME should have 4-10 alphanumeric characters, please hit back button and revise entry.`);
        }; //testing the username for the regex
if (name_re.test(req.body["name"]) == false) {
          alert(`Entered value for Full Name should have only alphabet characters, please hit back button and revise entry.`);
        } //testing the name for the regex  
if (password_re.test(req.body["psw"]) == false) {
          alert(`Entered value for PASSWORD should have minimum 6 characters, please hit back button and revise entry.`); //testing the pass with the regex
        }
  if (email_re.test(req.body["email"]) == false) {
          alert(`You have entered an invalid EMAIL adress, please hit back button and revise`); //testing the pass with the regex
        }
        else continue; 
      }



</script>
</head>
<body>
  <script>
  document.write(`<form action="./process_register${location.search}" method='POST' name="reg" onlcick=errorMessage();>`);
  </script>      
    <div class="container">
          <h1>Register</h1>
          <p>Please fill in this form to create an account.</p>
          <hr>
          <label for="name" size="30"><b>Full Name</b></label>
          <input type="text" placeholder="Enter Full Name" name="name" id="name" required> 
          
          <label for="uname"><b>Username (4-10 characters)</b></label>
          <input type="text" placeholder="Enter Username" name="uname" id="uname" onchange='this.value=this.value.toLowerCase();' required>
         
      
          <label for="psw"><b>Password (minimum 6 characters)</b></label>
          <input type="password" placeholder="Enter Password" name="psw" id="psw" required>
      
          <hr>
          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Enter Email" name="email" id="email" onchange='this.value=this.value.toLowerCase()' required>
          <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
          <button type="submit" class="registerbtn" onclick="errorMessage()">Register</button>
        </div>
      
        <div class="container signin">
          <p>Already have an account? <a href="login.html">Sign in</a>.</p>
        </div>
      </form>
</body>
</html>

